{"version":3,"file":"app~f7c4fcbb.bundle.js","mappings":";ugBACA,6kNACMA,EAAiC,WACrC,cAAyC,IAA5BC,EAAmB,EAAnBA,oBAAqBC,EAAI,EAAJA,MAFpC,4FAEwC,SACpCC,KAAKC,MAAQF,EACbC,KAAKE,+BACLF,KAAKG,qBAAuBL,CAC9B,CANF,UAYG,EAoBA,OAhCH,EAMG,EANH,EAMG,2CAED,WAA+B,WAC7BE,KAAKC,MAAMG,wBAAuB,SAACC,GACjC,EAAKC,mBAAmBD,EAC1B,GACF,GAAC,iCAZH,EAYG,UAED,WAAyBA,GAAW,uEACK,GAAvCL,KAAKO,aAAeF,EAAYG,SAG5BR,KAAKK,YAAYI,OAAS,GAAC,gCACJT,KAAKG,qBAAqBO,kBAAkBV,KAAKK,aAAY,OAAtFM,EAAmB,EAAH,4CAESX,KAAKG,qBAAqBS,oBAAmB,OAAtED,EAAmB,EAAH,aAElBX,KAAKa,qBAAqBF,GAAkB,gDAX7C,EAZH,8KAwBG,gFAED,SAAqBG,GACnBd,KAAKC,MAAMc,wBAAwBD,EACrC,GAAC,uBAED,WACE,OAAOd,KAAKO,YACd,IAhCF,uEAgCG,EA/BoC,GAkCvC,6LCWA,QA1CiC,sIAuC9B,SAvC8B,8BAC/B,WACE,MAAO,kkBAcT,GAAC,oCAED,SAAuBS,GACrBC,SAASC,eAAe,SAASC,iBAAiB,UAAU,SAACC,GAC3DJ,EAASI,EAAMC,OAAOC,MACxB,GACF,GAAC,qCAED,WAA0C,IACpCC,EADkBT,EAAc,UAAH,6CAAG,GAGlCS,EADET,EAAYL,OACPK,EAAYU,QAAO,SAACC,EAAOC,GAAU,OAAKD,EAAME,QAAOC,EAAAA,EAAAA,IAA6BF,GAAY,GAAE,IAElG1B,KAAK6B,8BAGdZ,SAASC,eAAe,eAAeY,UAAYP,EAEnDN,SAASC,eAAe,eAAea,cAAc,IAAIC,MAAM,uBACjE,GAAC,yCAED,WACE,MAAO,gFACT,2EAAC,EAvC8B,mQCJjC,smNAOA,IAAMjC,EAAO,IAAIkC,EA0DjB,QAxDa,CACLC,OAAM,WAAG,0HACNnC,EAAKoC,eAAa,0CADZ,EAUf,EAEMC,YAAW,WAAG,kHAoBlB,IAAIC,EAAAA,EAAgC,CAACtC,KAAAA,EAAMD,oBAAqBwC,EAAAA,IAChE,IAAIzC,EAAkC,CAACE,KAAAA,EAAMD,oBAAqBwC,EAAAA,KAE5DC,EAAgBtB,SAASuB,cAAc,eAC/BrB,iBAAiB,SAAS,SAACC,GACvCA,EAAMqB,iBACN,EAAKC,qBACP,IAEAH,EAAcpB,iBAAiB,WAAW,SAACC,GACvB,UAAdA,EAAMuB,MACRvB,EAAMqB,iBACN,EAAKC,sBAET,IAAG,0CAlCe,EAmCpB,EAEAA,oBAAmB,WACjBzB,SAASuB,cAAc,gBAAgBI,QACvC3B,SAASuB,cAAc,cAAcK,MACvC","sources":["webpack://tugas-submission-katalog-restoran-pwa-testing-and-optimized-_muhammad-rendy-pratama/./src/scripts/views/pages/liked-restaurants/favorite-restaurant-search-presenter.js","webpack://tugas-submission-katalog-restoran-pwa-testing-and-optimized-_muhammad-rendy-pratama/./src/scripts/views/pages/liked-restaurants/favorite-restaurant-search-view.js","webpack://tugas-submission-katalog-restoran-pwa-testing-and-optimized-_muhammad-rendy-pratama/./src/scripts/views/pages/like.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\n/* eslint-disable object-curly-spacing */\nclass FavoriteRestaurantSearchPresenter {\n  constructor({favoriteRestaurants, view}) {\n    this._view = view;\n    this._listenToSearchRequestByUser();\n    this._favoriteRestaurants = favoriteRestaurants;\n  }\n\n  _listenToSearchRequestByUser() {\n    this._view.runWhenUserIsSearching((latestQuery) => {\n      this._searchRestaurants(latestQuery);\n    });\n  }\n\n  async _searchRestaurants(latestQuery) {\n    this._latestQuery = latestQuery.trim();\n\n    let foundRestaurants;\n    if (this.latestQuery.length > 0) {\n      foundRestaurants = await this._favoriteRestaurants.searchRestaurants(this.latestQuery);\n    } else {\n      foundRestaurants = await this._favoriteRestaurants.getAllRestaurants();\n    }\n    this._showFoundRestaurant(foundRestaurants);\n  }\n\n  _showFoundRestaurant(restaurants) {\n    this._view.showFavoriteRestaurants(restaurants);\n  }\n\n  get latestQuery() {\n    return this._latestQuery;\n  }\n}\n\nexport default FavoriteRestaurantSearchPresenter;\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable object-curly-spacing */\nimport {createRestaurantItemTemplate} from '../../templates/template-creator';\n\nclass FavoriteRestauranSearchView {\n  getTemplate() {\n    return `\n      <div class=\"content_container\">\n        <h2 class=\"detail_title\"> Daftar Restaurant Favorite</h2>\n        <section class=\"content\">\n          <label for=\"query\">Cari restoran favorite anda:</label><br>\n          <input id=\"query\" type=\"text\" placeholder=\"Masukan nama restoran...\">\n          <div class=\"favorite_list\">\n            <div tabindex=\"0\" id=\"restaurants\" class=\"restaurants posts\">\n              <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n            </div>\n          </div>\n        </section>\n      </div> \n      `;\n  }\n\n  runWhenUserIsSearching(callback) {\n    document.getElementById('query').addEventListener('change', (event) => {\n      callback(event.target.value);\n    });\n  }\n\n  showFavoriteRestaurants(restaurants = []) {\n    let html;\n    if (restaurants.length) {\n      html = restaurants.reduce((carry, restaurant) => carry.concat(createRestaurantItemTemplate(restaurant)), '');\n    } else {\n      html = this._getEmptyRestaurantTemplate();\n    }\n\n    document.getElementById('restaurants').innerHTML = html;\n\n    document.getElementById('restaurants').dispatchEvent(new Event('restaurants:updated'));\n  }\n\n  _getEmptyRestaurantTemplate() {\n    return '<h3 class=\"restaurant-item__not__found\">DAFTAR RESTAURANT FAVORITE KOSONG</h3>';\n  }\n}\n\nexport default FavoriteRestauranSearchView;\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-new */\n/* eslint-disable object-curly-spacing */\nimport FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\nimport FavoriteRestaurantSearchPresenter from './liked-restaurants/favorite-restaurant-search-presenter';\nimport FavoriteRestauranSearchView from './liked-restaurants/favorite-restaurant-search-view';\nimport FavoriteRestaurantShowPresenter from './liked-restaurants/favorite-restaurant-show-presenter';\n\nconst view = new FavoriteRestauranSearchView();\n\nconst Like = {\n  async render() {\n    return view.getTemplate();\n    // return `\n    // <div class=\"content_container\">\n    //       <section class=\"content\">\n    //         <div class=\"favorite_list\">\n    //         </div>\n    //       </section>\n    // </div>\n    // `;\n  },\n\n  async afterRender() {\n    // const EmptyContainer = document.querySelector('.favorite_list');\n    // EmptyContainer.innerHTML = '\n    // <div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>';\n    // const restaurants = await FavoriteRestaurantIdb.getAllRestaurants();\n\n    // EmptyContainer.innerHTML = view.getTemplate();\n\n    // if (restaurants.length > 0) {\n    //   EmptyContainer.innerHTML = `<h2 class=\"detail_title\"> Daftar Restaurant Favorite</h2>\n    //                               <div tabindex=\"0\" class=\"posts\" id=\"restauarantList\"></div>`;\n    //   const RestaurantContainer = document.querySelector('#restauarantList');\n    //   restaurants.forEach((restaurant) => {\n    //     RestaurantContainer.innerHTML += createRestaurantItemTemplate(restaurant);\n    //   });\n    // } else {\n    //   EmptyContainer.innerHTML = '\n    // <h3 class=\"favorite__kosong\"> DAFTAR RESTAURANT FAVORITE KOSONG</h3>';\n    // }\n\n    new FavoriteRestaurantShowPresenter({view, favoriteRestaurants: FavoriteRestaurantIdb});\n    new FavoriteRestaurantSearchPresenter({view, favoriteRestaurants: FavoriteRestaurantIdb});\n\n    const skipToContent = document.querySelector('.skip-link');\n    skipToContent.addEventListener('click', (event) => {\n      event.preventDefault();\n      this._onClickSkipContent();\n    });\n\n    skipToContent.addEventListener('keydown', (event) => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        this._onClickSkipContent();\n      }\n    });\n  },\n\n  _onClickSkipContent() {\n    document.querySelector('#restaurants').focus();\n    document.querySelector('.skip-link').blur();\n  },\n};\n\nexport default Like;\n"],"names":["FavoriteRestaurantSearchPresenter","favoriteRestaurants","view","this","_view","_listenToSearchRequestByUser","_favoriteRestaurants","runWhenUserIsSearching","latestQuery","_searchRestaurants","_latestQuery","trim","length","searchRestaurants","foundRestaurants","getAllRestaurants","_showFoundRestaurant","restaurants","showFavoriteRestaurants","callback","document","getElementById","addEventListener","event","target","value","html","reduce","carry","restaurant","concat","createRestaurantItemTemplate","_getEmptyRestaurantTemplate","innerHTML","dispatchEvent","Event","FavoriteRestauranSearchView","render","getTemplate","afterRender","FavoriteRestaurantShowPresenter","FavoriteRestaurantIdb","skipToContent","querySelector","preventDefault","_onClickSkipContent","key","focus","blur"],"sourceRoot":""}